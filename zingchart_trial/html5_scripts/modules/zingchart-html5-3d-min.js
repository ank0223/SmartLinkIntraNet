/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120622
*/
ZC.AJ={UQ:1,DY:0,DX:0,FT:40};
ZC.DA={_get_rotation_angle_:function(b,a){if(a.A7%180==0)var c=new ZC.C0(b,-b.G/2,a.iY-b.E/4,0),e=new ZC.C0(b,b.G/2,a.iY-b.E/4,0);else{c=new ZC.C0(b,a.iX-b.G/4,-b.E/2,0);e=new ZC.C0(b,a.iX-b.G/4,b.E/2,0)}return ZC.UN(Math.atan((e.DC[1]-c.DC[1])/(e.DC[0]-c.DC[0])))-(a.A7%180==0?0:90)},DR:function(b,a,c,e,d,f,g,h,i){i=i||"z";b=new ZC.QQ(b,a);switch(i){case "x":var j=new ZC.C0(a,c,d,g),k=new ZC.C0(a,e,d,g),l=new ZC.C0(a,e,f,h),m=new ZC.C0(a,c,f,h);break;case "y":j=new ZC.C0(a,c,d,g);k=new ZC.C0(a,c,
f,g);l=new ZC.C0(a,e,f,h);m=new ZC.C0(a,e,d,h);break;case "z":j=new ZC.C0(a,c,d,g);k=new ZC.C0(a,c,d,h);l=new ZC.C0(a,e,f,h);m=new ZC.C0(a,e,f,g)}b.add(j);b.add(k);b.add(l);b.add(m);return b},DV:function(b,a,c,e){if(typeof e==ZC._[33])e=0;b=new ZC.QQ(b,a);for(var d=0,f=c.length;d<f;d++)e?b.add(c[d]):b.add(new ZC.C0(a,c[d][0],c[d][1],c[d][2]));return b}};
ZC.C0=ZC.BZ.B5({$i:function(b,a,c,e){this.D=b;this.iX=a;this.iY=c;this.iZ=e;this.A0P=this.E1=this.E6=0;this.DC=[];var d=this.D.DK.angle;b=this.D.DK.zoom;if(this.D.DK.true3d){a={x:a,y:c,z:e};c={x:0,y:0,z:0};var f={x:this.D.DK[ZC._[29]],y:this.D.DK[ZC._[30]],z:this.D.DK[ZC._[31]]};e=ZC.CG(f.x);d=ZC.CG(f.y);var g=ZC.CG(f.z),h=ZC.CS(f.x),i=ZC.CS(f.y);f=ZC.CS(f.z);this.E6=i*(g*(a.y-c.y)+f*(a.x-c.x))-d*(a.z-c.z);this.E1=e*(i*(a.z-c.z)+d*(g*(a.y-c.y)+f*(a.x-c.x)))+h*(f*(a.y-c.y)-g*(a.x-c.x));this.A0P=h*
(i*(a.z-c.z)+d*(g*(a.y-c.y)+f*(a.x-c.x)))-e*(f*(a.y-c.y)-g*(a.x-c.x));this.DC[0]=ZC.AJ.DY+ZC.AJ.UQ/(ZC.AJ.UQ+this.A0P)*this.E6*b;this.DC[1]=ZC.AJ.DX+ZC.AJ.UQ/(ZC.AJ.UQ+this.A0P)*this.E1*b}else{this.DC[0]=ZC.AJ.DY+a+e*ZC.CS(d)*b;this.DC[1]=ZC.AJ.DX+c-e*ZC.CG(d)*b}}});
ZC.QQ=ZC.BZ.B5({$i:function(b,a){this.D=a;this.S=b;this.Q="";this.L3=0;this.L0=[1,1,1];this.DL=-1;this.C=[];this.T2=this.MR=-9999;this.YD=this.U9=this.UE=9999;this.A0S=this.Y5=this.ZP=0},add:function(b){this.C.push(b)},A26:function(){for(var b=this.C.length,a=0;a<b;a++){var c=this.C[a];this.MR=ZC.BS(this.MR,c.iZ);if(this.D.DK.true3d==1){this.UE=ZC.CU(this.UE,c.iZ);this.T2=ZC.BS(this.T2,c.A0P);this.Y5+=c.iY}else{this.U9=ZC.CU(this.U9,c.iX);this.YD=ZC.CU(this.YD,c.iY);this.ZP+=c.iX;this.Y5+=c.iY;this.A0S+=
c.iZ}}this.ZP/=b;this.Y5/=b;this.A0S/=b},DF:function(){for(var b="",a=0,c=this.C.length;a<c;a++)b+=ZC._i_(this.C[a].DC[0]+ZC.MAPTX)+","+ZC._i_(this.C[a].DC[1]+ZC.MAPTX)+",";return b=b.substring(0,b.length-1)}});
ZC.OQ=ZC.BZ.B5({$i:function(){this.US=[];this.Q9=[]},clear:function(){this.US=[];this.Q9=[]},add:function(b){this.US.push(b)},sortFaces:function(b,a){if(zingchart.V3D==1)return b[0][0]>a[0][0]?-1:b[0][0]<a[0][0]?1:b[0][1]>a[0][1]?1:b[0][1]<a[0][1]?-1:b[0][2]>a[0][2]?-1:b[0][2]<a[0][2]?1:b[0][3]>a[0][3]?-1:b[0][3]<a[0][3]?1:0;else if(zingchart.V3D==2)return b[0][3]!=-1||a[0][3]!=-1?b[0][3]>a[0][3]?1:b[0][3]<a[0][3]?-1:0:b[0][0]>a[0][0]?-1:b[0][0]<a[0][0]?1:b[0][1]>a[0][1]?1:b[0][1]<a[0][1]?-1:b[0][2]>
a[0][2]?1:b[0][2]<a[0][2]?-1:0}});ZC.TB.push("3d");ZC.HW.prototype.J8=function(){if(this.AQ["3d"]&&typeof ZC.AJ!=ZC._[33]){ZC.AJ.UQ=2.5*ZC.BS(this.G,this.E);ZC.AJ.DY=this.O.iX+this.O.G/2;ZC.AJ.DX=this.O.iY+this.O.E/2;ZC.AJ.FT=ZC._i_(this.DK.depth)}};
ZC.HW.prototype.parse3D=function(){var b;if(this.AQ["3d"]&&typeof ZC.AJ!=ZC._[33]){this.A.AU.load(this.DK,"graph.3d-aspect");this.A.AU.load(this.DK,this.AE+".3d-aspect");if((b=this.o[ZC._[28]])!=null)ZC.EY(b,this.DK);var a=["angle","depth",ZC._[29],ZC._[30],ZC._[31],"zoom"];for(b=0;b<a.length;b++)this.DK[a[b]]=ZC._f_(this.DK[a[b]]);a=["angle",ZC._[29],ZC._[30],ZC._[31]];for(b=0;b<a.length;b++)ZC.DQ(this.DK[a[b]],this.AQ[a[b]+"-min"],this.AQ[a[b]+"-max"])||(this.DK[a[b]]=this.AQ[a[b]+"-min"]);this.DK.true3d=
ZC._b_(this.DK.true3d)}};
ZC.HW.prototype.S1=function(){for(var b=this.BY.US.length,a=0;a<b;a++){var c=this.BY.US[a];c.A26();this.BY.Q9[a]=this.DK.true3d?[[ZC._f_(c.MR.toFixed(1))*c.L0[0],ZC._f_(c.UE.toFixed(1))*c.L0[1],ZC._f_(c.T2.toFixed(1))*c.L0[2],ZC._f_(c.Y5.toFixed(1))],a]:[[ZC._f_(c.MR.toFixed(1))*c.L0[0],ZC._f_(c.U9.toFixed(1))*c.L0[1],ZC._f_(c.ZP.toFixed(1))*c.L0[2],ZC._i_(c.DL)],a]}zingchart.V3D=this.DK.true3d?1:2;this.BY.Q9.sort(this.BY.sortFaces);for(a=0;a<b;a++){var e=[];c=this.BY.US[this.BY.Q9[a][1]];var d=c.C.length;
if(d>0){for(var f=0;f<d;f++)e.push(c.C[f].DC);e.push(c.C[0].DC);d=new ZC.D0(this);d.Q=this.Q+"-3dshape-"+ZC.SEQ;ZC.SEQ++;d.copy(c.S);c.S.C5()&&d.parse();d.CM=0;d.X=this.H.usc()?this.H.mc():ZC.AN(this.Q+"-plots-bl-c");d.locate(1);d.C=e;d.E9="poly";d.locate(2);d.paint()}}};
