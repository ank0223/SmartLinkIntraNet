/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120622
*/
ZC.TB.push("pie3d");ZC.YB=ZC.W1.B5({$i:function(a){this.b(a);this.AE="pie3d";this.AZ=new ZC.X2(this);this.BY=new ZC.OQ;this.AQ["3d"]=1;this.AQ[ZC._[57]]=0;this.AQ["x-angle-min"]=10;this.AQ["x-angle-max"]=80;this.AQ["y-angle-min"]=0;this.AQ["y-angle-max"]=0},clear:function(){this.b();this.BY.clear()},paint:function(){this.b();this.S1();this.IX()}});ZC.X2=ZC.UV.B5({A1P:function(){return new ZC.PE(this)}});
ZC.PE=ZC.OL.B5({$i:function(a){this.b(a);this.AE="pie3d";this.A1X=1;this.IE=-1},parse:function(){this.b();this.PY_a([["tilt","A1X","fa"],["thickness","IE","ia"]])},A0X:function(){return new ZC.W7(this)}});
ZC.W7=ZC.GJ.B5({T:null,$i:function(a){this.b(a)},parse:function(){this.b()},KX:function(a,f){var b=this.A.M5();ZC.EY(f,b);var e=this.A9*100/this.A.A.KW[this.K],d=new String(e);if(b[ZC._[14]]!=null)d=e.toFixed(ZC.BS(0,ZC._i_(b[ZC._[14]])));this.DN=[["%node-percent-value",d],["%npv",d]];return a=this.b(a,f)},RV:function(a){var f=(this.AL+this.AW)/2%360;if((a=a["offset-r"])!=null)ZC._f_(ZC._p_(a));f=(new ZC.C0(this.D,(this.BR+0.5*(this.AR-this.BR)+this.DT+T.DT)*ZC.CS(f),(this.BR+0.5*(this.AR-this.BR)+
this.DT+T.DT)*ZC.CG(f),0)).DC;return[f[0],f[1],{reference:this,center:true}]},setup:function(){var a=this.D.B2(this.A.BA("k")[0]),f=Math.floor(this.K/a.GN);this.iX=a.iX+(a.GN-1-this.K%a.GN)*a.EB+a.EB/2+a.CE;this.iY=a.iY+(a.JW-1-f)*a.EA+a.EA/2+a.CP;if(!this.FR){this.copy(this.A);this.DM=this.A.DM;this.C5()&&this.parse();this.FR=1}},P5:function(a){var f={},b="out";if(a.o[ZC._[9]]!=null)b=a.o[ZC._[9]];f.color=b=="out"?this.Y:this.BK;return f},A15:function(a){var f="out";if(a.o[ZC._[9]]!=null)f=a.o[ZC._[9]];
var b=(this.AL+this.AW)/2%360,e,d,g=this.D.B2(this.A.BA("k")[0]),k=this.K%g.GN;e=Math.floor(this.K/g.GN);if(f!="in"){d=(this.AR*1.25+this.A.DT+a.DT)*ZC.CS(b);f=(this.AR*1.25+this.A.DT+a.DT)*ZC.CG(b);k=g.iX+k*g.EB+g.EB/2+g.CE;g=g.iY+e*g.EA+g.EA/2+g.CP;e=k+d+a.CE-a.G/2;f=d=g+f+a.CP-a.E/2;this.T=a;if(b>=0&&b<=90||b>=270&&b<=360)e+=a.G/2+10;else e-=a.G/2+10;d=new ZC.C0(this.D,e-ZC.AJ.DY,d-ZC.AJ.DX,0);e=d.DC[0];d=d.DC[1];var m=null,i=-1;if(this.A.K>0&&this.A.A.AA[this.A.K-1].P.length>this.K){m=this.A.A.AA[this.A.K-
1].P[this.K];if(m.T!=null&&m.T.AO&&m.A9!=null){var h=m.T.iY,c=m.T.E;i=(m.AL+m.AW)/2%360;var n=0,j=e-k,l=d-g;j=Math.sqrt(j*j+l*l);if(b>=0&&b<=90||b>=270&&b<=360&&i>=0&&i<=90||i>=270&&i<=360){if(d<h+c){l=h+c+2;n=l-d;d=l}}else if(b>90&&b<270&&i>90&&i<270)if(h<d+a.E){l=h-a.E-2;n=d-l;d=l}if(n!=0&&b){var o=d-g;if(j>=o&&(b>90&&b<180||b>=270)){e=Math.asin(o/j);e=e=b>90&&b<270?k-j*Math.cos(e):k+j*Math.cos(e)}}}}o=1;n=0;j=e-k;l=d-g;j=Math.sqrt(j*j+l*l);for(l=0;o&&n<20;){o=0;n++;for(var q={x:e,y:d,width:a.G,
height:a.E},r=0,s=this.A.A.NN.length;r<s;r++){q.x=e;q.y=d;var p=this.A.A.NN[r];if(ZC.AV._boxoverlap_(q,p)){if(l==0)l=f<p.oy?-1:1;if(m!=null&&i!=-1)if((b>=0&&b<=90||b>=270&&b<=360)&&(i>=0&&i<=90||i>=270&&i<=360)){if(d<h+c)l=1}else if(b>90&&b<270&&i>90&&i<270)if(h<d+a.E)l=-1;d=l==-1?p.y-a.E-2:p.y+p.height+2;o=Math.abs(d-g);if(j>=o&&(b>90&&b<180||b>=270)){e=Math.asin(o/j);e=e=b>90&&b<270?k-j*Math.cos(e):k+j*Math.cos(e)}o=1}}}p={x:e,y:d,width:a.G,height:a.E,plotindex:this.A.K,nodeindex:this.K,oy:f};this.A.A.NN.push(p)}else{h=
(new ZC.C0(this.D,(this.BR+0.5*(this.AR-this.BR)+this.DT+a.DT)*ZC.CS(b),(this.BR+0.5*(this.AR-this.BR)+this.DT+a.DT)*ZC.CG(b),0)).DC;e=h[0]-a.D7/2+this.CE;d=h[1]-a.CD/2+this.CP}return[e,d,b]},G9:function(){var a=this,f=a.b();if(f.AO&&f.B1!=null&&f.B1!=""){var b="out";if(f.o[ZC._[9]]!=null)b=f.o[ZC._[9]];if(b=="out"){b=1;if((F=f.o.connected)!=null)b=ZC._b_(F);if(b){b=new ZC.D0(a.A);b.X=b.BU=a.H.usc()?a.H.mc("top"):a.D.AQ["3d"]||a.H.L3?ZC.AN(a.D.Q+"-plots-vb-c"):ZC.AN(a.D.Q+"-plot-"+a.A.K+"-vb-c");
b.append(a.A.B0.o);a.P5(f);b.AT=a.Y;b.E9="line";b.C=[];var e=f.I.positioninfo,d=(a.AL+a.AW)/2%360,g=e[2],k=0;if(d>=0&&d<=180)k=a.I.thickness/2;var m=a.D.O.iY+a.D.O.E/2-a.iY;d=(new ZC.C0(a.D,a.D.O.iX+a.D.O.G/2-a.iX+(a.AR+a.DT+f.DT)*ZC.CS(d),m+(a.AR+a.DT+f.DT)*ZC.CG(d),k)).DC;d[0]+=a.CE;d[1]+=a.CP;b.C.push(d);g>=0&&g<=90||g>=270&&g<=360?b.C.push([e[0]-10,e[1]+f.E/2],[e[0],e[1]+f.E/2]):b.C.push([e[0]+10+f.G,e[1]+f.E/2],[e[0]+f.G,e[1]+f.E/2]);b.parse();b.GT=function(i){return a.GT(i)};b.C5()&&b.parse();
b.AO&&b.paint()}}}},paint:function(){var a=this.D.BY,f=this.D.B2(this.A.BA("k")[0]);this.D.B2("scale-r");var b=this.D.DK[ZC._[30]];this.setup();if(!(this.A9<0)){this.AR=ZC.CU(f.EA,f.EB)/2;if(this.A.o[ZC._[23]]!=null)this.AR=this.A.AR;this.AR=f.IL*this.AR;if(this.BR<1)this.BR*=this.AR;var e=this.A.IE;if(e==-1)e=this.AR/5;this.I.thickness=e;var d=ZC.AJ.DY-this.iX,g=ZC.AJ.DX-this.iY;this.AL=ZC._i_(this.AL);this.AW=ZC._i_(this.AW);var k=(this.AL+this.AW)/2;if(this.DT>0){d+=this.DT*ZC.CS(k);g+=this.DT*
ZC.CG(k)}var m=this.A.FH(this,this),i=new ZC.E5(this);i.copy(m);i.Y=ZC.BQ.KL(ZC.BQ.LH(i.Y));i.A8=ZC.BQ.KL(ZC.BQ.LH(i.A8));var h=[],c=this.AL;h.push([d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),0]);for(c=this.AL;c<=this.AW;c+=1)h.push([d+this.AR*ZC.CS(c),g+this.AR*ZC.CG(c),0]);c=this.AW;h.push([d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),0]);for(c=this.AW;c>=this.AL;c-=1)h.push([d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),0]);f=ZC.DA.DV(m,this.D,h);a.add(f);var n=null;if(this.AL%360>=0+b&&this.AL%360<180+b||this.AW%
360>0+b){var j=this.AL;n=this.AW;h=[];c=j;h.push([d+this.AR*ZC.CS(c),g+this.AR*ZC.CG(c),0]);for(c=j;c<=n;c+=1)h.push([d+this.AR*ZC.CS(c),g+this.AR*ZC.CG(c),0]);c=n;h.push([d+this.AR*ZC.CS(c),g+this.AR*ZC.CG(c),e]);for(c=n;c>=j;c-=1)h.push([d+this.AR*ZC.CS(c),g+this.AR*ZC.CG(c),e]);n=ZC.DA.DV(i,this.D,h);if(k%360>0&&k%360<180)n.L0=[0.1,1,1,1];a.add(n)}k=null;if(this.BR>0+b&&this.AW>180+b){h=[];j=c=this.AL;if(this.AL<180+b&&this.AW>180+b){c=180+b;j=180+b}h.push([d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),
0]);for(c=j;c<=this.AW;c+=1)h.push([d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),0]);c=this.AW;h.push([d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),e]);for(c=this.AW;c>=j;c-=1)h.push([d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),e]);k=ZC.DA.DV(i,this.D,h);a.add(k)}c=this.AL;h=[[d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),0],[d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),e],[d+this.AR*ZC.CS(c),g+this.AR*ZC.CG(c),e],[d+this.AR*ZC.CS(c),g+this.AR*ZC.CG(c),0]];b=ZC.DA.DV(m,this.D,h);a.add(b);c=this.AW;h=[[d+this.BR*ZC.CS(c),g+this.BR*
ZC.CG(c),0],[d+this.BR*ZC.CS(c),g+this.BR*ZC.CG(c),e],[d+this.AR*ZC.CS(c),g+this.AR*ZC.CG(c),e],[d+this.AR*ZC.CS(c),g+this.AR*ZC.CG(c),0]];e=ZC.DA.DV(m,this.D,h);a.add(e);a=this.D.Q+ZC._[36]+this.D.Q+ZC._[37]+this.A.K+ZC._[6];a=ZC.L.DI("poly")+'class="'+a+'" id="'+this.Q;d=this.A.A.G0;d.push(a+"--top"+ZC._[32]+f.DF()+'"/>');n&&d.push(a+"--outer"+ZC._[32]+n.DF()+'"/>');if(this.BR>0||this.DT>0){k&&d.push(a+"--inner"+ZC._[32]+k.DF()+'"/>');d.push(a+"--start"+ZC._[32]+b.DF()+'"/>',a+"--end"+ZC._[32]+
e.DF()+'"/>')}this.A.T!=null&&this.G9()}}});
