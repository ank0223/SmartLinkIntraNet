/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120622
*/
ZC.TB.push("pie");
ZC.W1=ZC.HW.B5({$i:function(b){this.b(b);this.AE="pie";this.AZ=new ZC.UV(this)},PF:function(){return""},I9:function(b){switch(b){case "m":return new ZC.PP(this);case "v":return new ZC.QN(this);case "r":return new ZC.XE(this)}},A1F:function(){var b=this.I9("m","scale"),a=this.I9("v",ZC._[54]),c=this.I9("r","scale-r");b.BI="scale";b.Q=this.Q+"-scale";a.BI=ZC._[54];a.Q=this.Q+"-scale-v";c.BI="scale-r";c.Q=this.Q+"-scale-r";this.B9.push(b,a,c);this.b()},clear_:function(){ZC.AH(["svg","vml"],this.H.A5)!=
-1&&ZC.A4("#"+this.Q+" .zc-layer").each(function(){/\-plot-\d+\-fl\-\d+\-/.test(this.id)&&ZC.A4(this).children().each(function(){/\-connector\-path/.test(this.id)&&ZC.L.FA(this)})})}});
ZC.UV=ZC.J3.B5({$i:function(b){this.b(b);this.KW=[];this.JM=[];this.NN=[]},A1P:function(){return new ZC.OL(this)},parse:function(){this.NN=[];this.KW=[];this.JM=[];this.b();for(var b=this.A.B2("scale-r"),a=0,c=this.AA.length;a<c;a++)if(this.D.I["plot"+a+".visible"]||this.D.getToggleAction()=="hide")for(var d=0,i=this.AA[a].P.length;d<i;d++){var g=this.AA[a].P[d];if(this.JM[d]==null)this.JM[d]=this.AA[a].o["ref-angle"]!=null?this.AA[a].C7:b.C7;var f=this.JM[d],e=this.KW[d]==0?f+b.H1*(1/c):f+b.H1*g.A9/
this.KW[d];this.JM[d]=e;g.AL=f;g.AW=e}}});
ZC.OL=ZC.FE.B5({$i:function(b){this.b(b);this.AE="pie";this.B9=["scale",ZC._[54],"scale-r"];this.C7=this.QB=0;this.B0=null},A0X:function(){return new ZC.XT(this)},parse:function(){var b,a;if(this.o[ZC._[19]]==null)this.o[ZC._[19]]={};this.AX=this.J7();this.BK=this.AX[0];this.Y=this.AX[1];this.A8=this.AX[2];this.BP=this.AX[0];this.AT=this.AX[0];this.loadXPalette();this.b();this.B0=new ZC.E5(this);this.D.A.AU.load(this.B0.o,["graph.plot.value-box.connector",this.AE+".plot.value-box.connector"]);if((b=
this.D.o.plot)!=null)if(b[ZC._[19]]!=null&&(a=b[ZC._[19]].connector)!=null)this.B0.append(a);this.B0.append(this.o[ZC._[19]].connector);this.PY_a([["offset","DT","fp"],[ZC._[10],"QB","fp"],["ref-angle","C7","i"]]);b=0;for(a=this.P.length;b<a;b++){this.P[b].BR=this.QB;if(this.P[b]!=null&&(this.D.I["plot"+this.K+".visible"]||this.D.getToggleAction()=="hide")){if(this.A.KW[b]==null)this.A.KW[b]=0;this.A.KW[b]+=ZC._f_(this.P[b].A9)}}},paint:function(){this.b();this.GZ=this.BC("bl",0);this.JK(true)}});
ZC.XT=ZC.GJ.B5({T:null,$i:function(b){this.b(b)},parse:function(){this.b()},KX:function(b,a){var c=this.A.M5();ZC.EY(a,c);var d=this.A9*100/this.A.A.KW[this.K],i=new String(d);if(c[ZC._[14]]!=null)i=d.toFixed(ZC.BS(0,ZC._i_(c[ZC._[14]])));this.DN=[["%node-percent-value",i],["%npv",i]];return b=this.b(b,a)},RV:function(b){var a=(this.AL+this.AW)/2%360,c=0;if((b=b["offset-r"])!=null)c=ZC._f_(ZC._p_(b));if(c<1)c*=this.AR;a=ZC.AV.BM(this.iX,this.iY,this.BR+0.6*(this.AR-this.BR)+this.DT+c,a);return[a[0],
a[1],{reference:this,center:true}]},A2D:function(){var b=ZC.AV.BM(this.iX,this.iY,this.BR+0.5*(this.AR-this.BR)+this.DT,(this.AL+this.AW)/2%360);return[b[0],b[1]]},setup:function(){var b=this.D.B2(this.A.BA("k")[0]),a=Math.floor(this.K/b.GN);this.iX=b.iX+this.K%b.GN*b.EB+b.EB/2+b.CE;this.iY=b.iY+a*b.EA+b.EA/2+b.CP;if(!this.FR){this.copy(this.A);this.DM=this.A.DM;this.C5()&&this.parse(false);this.FR=1}},P5:function(b){var a={},c="out";if((b=b.o[ZC._[9]])!=null)c=b;a.color=c=="out"?this.Y:this.BK;return a},
A15:function(b){var a,c="out";if((a=b.o[ZC._[9]])!=null)c=a;a=(this.AL+this.AW)/2%360;var d;if(c!="in"){c=(this.AR*1.25+this.A.DT+b.DT)*ZC.CS(a);d=(this.AR*1.25+this.A.DT+b.DT)*ZC.CG(a);c=this.iX+c+b.CE-b.G/2;var i=d=this.iY+d+b.CP-b.E/2;this.T=b;if(a>=0&&a<=90||a>=270&&a<=360)c+=b.G/2+10;else c-=b.G/2+10;var g=null,f=-1,e=this.iX,h=this.iY;if(this.A.K>0&&this.A.A.AA[this.A.K-1].P.length>this.K){g=this.A.A.AA[this.A.K-1].P[this.K];if(g.T!=null&&g.T.AO&&g.A9!=null){var j=g.T.iY,o=g.T.E;f=(g.AL+g.AW)/
2%360;var n=0,l=c-e,k=d-h;l=Math.sqrt(l*l+k*k);if(a>=0&&a<=90||a>=270&&a<=360&&f>=0&&f<=90||f>=270&&f<=360){if(d<j+o){k=j+o+2;n=k-d;d=k}}else if(a>90&&a<270&&f>90&&f<270)if(j<d+b.E){k=j-b.E-2;n=d-k;d=k}if(n!=0&&a){var m=d-h;if(l>=m&&(a>90&&a<180||a>=270)){c=Math.asin(m/l);c=c=a>90&&a<270?e-l*Math.cos(c):e+l*Math.cos(c)}}}}m=1;n=0;l=c-e;k=d-h;l=Math.sqrt(l*l+k*k);for(k=0;m&&n<20;){m=0;n++;for(var q={x:c,y:d,width:b.G,height:b.E},r=0,s=this.A.A.NN.length;r<s;r++){q.x=c;q.y=d;var p=this.A.A.NN[r];if(ZC.AV._boxoverlap_(q,
p)){if(k==0)k=i<p.oy?-1:1;if(g!=null&&f!=-1)if((a>=0&&a<=90||a>=270&&a<=360)&&(f>=0&&f<=90||f>=270&&f<=360)){if(d<j+o)k=1}else if(a>90&&a<270&&f>90&&f<270)if(j<d+b.E)k=-1;d=k==-1?p.y-b.E-2:p.y+p.height+2;m=Math.abs(d-h);if(l>=m&&(a>90&&a<180||a>=270)){c=Math.asin(m/l);c=c=a>90&&a<270?e-l*Math.cos(c):e+l*Math.cos(c)}m=1}}}p={x:c,y:d,width:b.G,height:b.E,plotindex:this.A.K,nodeindex:this.K,oy:i};this.A.A.NN.push(p)}else{j=ZC.AV.BM(this.iX,this.iY,this.BR+0.5*(this.AR-this.BR)+this.DT+b.DT,a);c=j[0]-
b.D7/2+this.CE;d=j[1]-b.CD/2+this.CP}return[c,d,a]},G9:function(){var b=this,a,c=b.b();if(c.AO&&c.B1!=null&&c.B1!=""){var d="out";if((a=c.o[ZC._[9]])!=null)d=a;if(d=="out"){d=1;if((a=c.o.connected)!=null)d=ZC._b_(a);if(d){a=new ZC.D0(b.A);a.X=a.BU=b.H.usc()?b.H.mc("top"):b.D.AQ["3d"]||b.H.L3?ZC.AN(b.D.Q+"-plots-vb-c"):ZC.AN(b.D.Q+"-plot-"+b.A.K+"-vb-c");a.append(b.A.B0.o);b.P5(c);a.Q=b.Q+"-connector";a.AT=b.Y;a.E9="line";a.C=[];d=c.I.positioninfo;var i=(b.AL+b.AW)/2%360,g=d[2];ZC._a_(0.1*b.AR*ZC.CG(i));
i=ZC.AV.BM(b.iX,b.iY,b.AR+b.DT,i);i[0]+=b.CE;i[1]+=b.CP;a.C.push(i);g>=0&&g<=90||g>=270&&g<=360?a.C.push([d[0]-10,d[1]+c.E/2],[d[0],d[1]+c.E/2]):a.C.push([d[0]+10+c.G,d[1]+c.E/2],[d[0]+c.G,d[1]+c.E/2]);a.parse();a.GT=function(f){return b.GT(f)};a.C5()&&a.parse();a.AO&&a.paint()}}}},paint:function(){function b(){var o=d.DF(),n=a.D.Q+ZC._[36]+a.D.Q+ZC._[37]+a.A.K+ZC._[6];o=ZC.L.DI("poly")+'class="'+n+'" id="'+a.Q+ZC._[32]+o+'"/>';a.A.A.G0.push(o);a.A.T!=null&&a.G9()}var a=this;a.b();if(!(a.A9<0)){var c=
a.D.B2(a.A.BA("k")[0]);a.setup();a.AR=ZC.CU(c.EA,c.EB)/2;if(a.A.o[ZC._[23]]!=null)a.AR=a.A.AR;a.AR=c.IL*a.AR;if(a.BR<1)a.BR*=a.AR;c=a.A.FH(a,a);var d=new ZC.D0(a.A);d.Q=a.Q;d.X=a.A.BC("bl",1);d.BU=a.A.BC("bl",0);d.copy(c);var i=a.iX,g=a.iY;if(a.DT>0){var f=ZC.AV.BM(a.iX,a.iY,a.DT,(a.AL+a.AW)/2);i=f[0];g=f[1]}d.iX=i;d.iY=g;d.AR=a.AR;d.E9="pie";d.AL=a.AL;d.AW=a.AW;d.BR=a.BR;d.I.plotidx=a.A.K;d.I.nodeidx=a.K;d.parse();a.DZ=d;if(a.A.F9&&!a.D.FV){var e=d,h={};e.iX=i;e.iY=g;e.AL=a.AL;e.AW=a.AW;h.angleStart=
a.AL;h.angleEnd=a.AW;h.x=i;h.y=g;switch(a.A.H6){case 1:e.AB=0;h.alpha=c.AB;break;case 2:e.AB=0;e.AW=a.AL;h.alpha=c.AB;h.angleEnd=a.AW;break;case 3:e.AB=0;e.AW=a.AL;e.AR=2;h.alpha=c.AB;h.angleEnd=a.AW;h.size=a.AR;break;case 4:e.AB=0;f=ZC.AV.BM(a.iX,a.iY,a.AR*1.2,(a.AL+a.AW)/2);e.iX=f[0];e.iY=f[1];h.alpha=c.AB;h.x=i;h.y=g;break;case 5:e.AB=0;e.AL=e.AW=(a.AL+a.AW)/2;h.alpha=c.AB;h.angleStart=a.AL;h.angleEnd=a.AW}for(var j in a.A.DH){e[ZC.C8.FI[ZC.CH(j)]]=a.A.DH[j];h[ZC.CH(j)]=c[ZC.C8.FI[ZC.CH(j)]]}if(a.D.CY==
null)a.D.CY={};if(a.D.CY[a.A.K+"-"+a.K]!=null)for(j in a.D.CY[a.A.K+"-"+a.K])e[ZC.C8.FI[ZC.CH(j)]]=a.D.CY[a.A.K+"-"+a.K][j];a.D.CY[a.A.K+"-"+a.K]={};ZC.EY(h,a.D.CY[a.A.K+"-"+a.K]);j=new ZC.C8(e,h,a.A.FO,a.A.H2,ZC.C8.LJ[a.A.H5],function(){b()});j.B7=a;a.HH(j)}else{d.paint();b()}}},A1W:function(b){var a=this;ZC.move||a.HQ({layer:b,type:"shape",initcb:function(){this.copy(a);this.iX=a.iX;this.iY=a.iY;if(a.DT>0){var c=ZC.AV.BM(a.iX,a.iY,a.DT,(a.AL+a.AW)/2);this.iX=c[0];this.iY=c[1]}this.AR=a.AR;this.E9=
"pie";this.Y=a.A.AX[3];this.A8=a.A.AX[2];this.AL=a.AL;this.AW=a.AW;this.BR=a.BR}})},NJ:function(){}});
