/*
All of the code within the ZingChart software is developed and copyrighted by PINT, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from PINT. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 0.120622
*/
ZC.TB.push("refresh");ZC.HW.prototype.TD=function(){for(var a=0,b=0,d=this.B9.length;b<d;b++)if(this.B9[b].AE=="k")a=ZC.BS(a,this.o[this.B9[b].BI][ZC._[5]].length);b=0;for(d=this.AZ.AA.length;b<d;b++)if(this.o[ZC._[13]][b]!=null)a=ZC.BS(a,this.o[ZC._[13]][b][ZC._[5]].length);return a};
ZC.HW.prototype.V4=function(){for(var a=this.TD(),b=0,d=this.B9.length;b<d;b++)if(this.B9[b].AE=="k"){if(this.B9[b].EM){var c=(this.B9[b].E-this.B9[b].A1-this.B9[b].CL)/ZC._i_(this.IJ["max-ticks"]);this.B9[b].LV=ZC.BS(0,this.B9[b].E-a*c)}else{c=(this.B9[b].G-this.B9[b].A1-this.B9[b].CL)/ZC._i_(this.IJ["max-ticks"]);this.B9[b].LV=ZC.BS(0,this.B9[b].G-a*c)}this.B9[b].A1=this.B9[b].TZ+this.B9[b].LV;this.B9[b].W=ZC.BS(0,this.B9[b].A3-this.IJ["max-ticks"]+1);this.B9[b].JU()}};
ZC.HW.prototype.A0N=function(){var a=this;if(a.IJ!=null){var b=ZC._i_(a.IJ.interval);b=b>=50?b:1E3*b;if(a.IJ.type=="full")window.setTimeout(function(){a.A.I7(a);ZC.S0(function(){a.A.load(a.Q,a.Y6)})},b);else if(a.IJ.type=="feed"&&a.IJ.url!=null){if(a.IJ.curtain!=null){var d=a.BA("k");if(d.length>0){ZC.L.FA(a.Q+"-curtain-t");if(d[0].LV>0){var c=new ZC.D5(a);a.A.AU.load(c.o,"("+a.AE+").refresh.curtain");c.append(a.IJ.curtain);c.parse();if(c.AO){c.Q=a.Q+"-curtain-t";c.GX=ZC.AN(a.A.Q+"-text-top");if(d[0].EM){c.iX=
a.O.iX;c.iY=d[0].AG?a.O.iY:a.O.iY+a.O.E-d[0].LV;c.G=a.O.G;c.E=d[0].LV}else{c.iX=d[0].AG?a.O.iX+a.O.G-d[0].LV:a.O.iX;c.iY=a.O.iY;c.G=d[0].LV;c.E=a.O.E}c.X=c.BU=ZC.AN(a.Q+"-scales-ml-0-c");c.paint()}}}}var k=ZC._i_(a.IJ["reset-timeout"]),l=ZC._i_(a.IJ["stop-timeout"]);window.setTimeout(function(){if(a.L2[0]==1){a.A.I7(a);ZC.A4.ajax({type:"GET",url:a.IJ.url,beforeSend:function(f){f.setRequestHeader(ZC._[47],ZC._[48])},data:zingchart.ZCOUTPUT?"zcoutput="+a.H.A5:"",dataType:"text",error:function(){},success:function(f){f=
eval("("+f+")");f=f instanceof Array?f:[f];for(var i=0,m=f.length;i<m;i++){for(var g=f[i],e=0,j=a.B9.length;e<j;e++)if(a.B9[e].AE=="k"){var h=a.B9[e].BI;if(g[h]!=null&&a.o[h]!=null){if(a.o[h][ZC._[5]]==null)a.o[h][ZC._[5]]=[];a.o[h][ZC._[5]].push(g[h]);if(a.o[h][ZC._[5]].length>k||a.L2[1]==1)a.o[h][ZC._[5]]=[]}}e=0;for(j=a.AZ.AA.length;e<j;e++)if(a.o[ZC._[13]][e]!=null){if(g["plot-"+e]!=null)a.o[ZC._[13]][e][ZC._[5]].push(g["plot-"+e]);else g["plot"+e]!=null&&a.o[ZC._[13]][e][ZC._[5]].push(g["plot"+
e]);if(a.o[ZC._[13]][e][ZC._[5]].length>k||a.L2[1]==1)a.o[ZC._[13]][e][ZC._[5]]=[]}g=a.TD()}if(a.L2[1]==1)a.L2[1]=0;if(g<=l||l==0)ZC.S0(function(){if(ZC.AN(a.A.Q+"-main")){a.parse();a.clear(true);a.V4();a.paint(true,true)}})}})}},b)}}};
zingchart.A0M=function(a,b,d){if(document.getElementById("zc-fullscreen"))a="zc-fullscreen";d=d||{};if(typeof d=="string")d=JSON.parse(d);a=zingchart.loader(a);if(a!=null){var c=a.BT(d[ZC._[3]]);switch(b){case "clearfeed":c.L2[1]=1;break;case "getinterval":return c.IJ.interval;case "setinterval":c.o.refresh=c.o.refresh||{};c.o.refresh.interval=d.interval||1;break;case "stopfeed":c.L2[0]=0;break;case "startfeed":c.L2[0]=1;ZC.S0(function(){c.parse();c.clear(true);c.V4();c.paint(true,true)})}}return null};
